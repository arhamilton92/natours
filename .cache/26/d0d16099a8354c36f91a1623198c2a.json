{"id":"Uj2q","dependencies":[{"name":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\package.json","includedInParent":true,"mtime":1632597508422},{"name":"axios","loc":{"line":3,"column":18},"parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\stripe.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\node_modules\\axios\\index.js"},{"name":"./alerts","loc":{"line":4,"column":26},"parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\stripe.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\alerts.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bookTour=void 0;var e=t(require(\"axios\")),o=require(\"./alerts\");function t(e){return e&&e.__esModule?e:{default:e}}const s=async t=>{const s=Stripe(\"pk_test_51Jcx3mI20R6TlRgOtSizmRe5rWEEmFO56L1C4DBoC2r99xruz5vKoHpZPQS4H0FbbUy7xNsDw4GK3WnKGgPymSn600ocF1wbte\");try{const a=await(0,e.default)({method:\"GET\",url:`/api/v1/bookings/checkout-session/${t}`});await s.redirectToCheckout({sessionId:a.data.session.id})}catch(r){(0,o.showAlert)(\"error\",r.response.data.message)}};exports.bookTour=s;"},"sourceMaps":{"js":{"mappings":[{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":0}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":13}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":20}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":35}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":43}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":56}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":57}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":64}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":68}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":76}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":90}},{"source":"stripe.js","original":{"line":3,"column":0},"generated":{"line":1,"column":92}},{"source":"stripe.js","original":{"line":3,"column":0},"generated":{"line":1,"column":96}},{"source":"stripe.js","original":{"line":3,"column":0},"generated":{"line":1,"column":98}},{"source":"stripe.js","original":{"line":3,"column":0},"generated":{"line":1,"column":100}},{"source":"stripe.js","original":{"line":3,"column":0},"generated":{"line":1,"column":108}},{"source":"stripe.js","original":{"line":4,"column":0},"generated":{"line":1,"column":118}},{"source":"stripe.js","original":{"line":4,"column":0},"generated":{"line":1,"column":120}},{"source":"stripe.js","original":{"line":4,"column":0},"generated":{"line":1,"column":128}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":140}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":149}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":151}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":154}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":161}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":164}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":166}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":177}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":179}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":180}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":188}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":191}},{"source":"stripe.js","name":"bookTour","original":{"line":6,"column":13},"generated":{"line":1,"column":197}},{"source":"stripe.js","original":{"line":6,"column":24},"generated":{"line":1,"column":199}},{"source":"stripe.js","original":{"line":6,"column":24},"generated":{"line":1,"column":205}},{"source":"stripe.js","name":"stripe","original":{"line":8,"column":10},"generated":{"line":1,"column":209}},{"source":"stripe.js","name":"stripe","original":{"line":8,"column":10},"generated":{"line":1,"column":215}},{"source":"stripe.js","name":"Stripe","original":{"line":8,"column":19},"generated":{"line":1,"column":217}},{"source":"stripe.js","original":{"line":8,"column":26},"generated":{"line":1,"column":224}},{"source":"stripe.js","original":{"line":9,"column":8},"generated":{"line":1,"column":335}},{"source":"stripe.js","name":"session","original":{"line":10,"column":8},"generated":{"line":1,"column":339}},{"source":"stripe.js","name":"session","original":{"line":10,"column":8},"generated":{"line":1,"column":345}},{"source":"stripe.js","original":{"line":10,"column":24},"generated":{"line":1,"column":353}},{"source":"stripe.js","original":{"line":10,"column":30},"generated":{"line":1,"column":355}},{"source":"stripe.js","original":{"line":10,"column":30},"generated":{"line":1,"column":357}},{"source":"stripe.js","original":{"line":10,"column":30},"generated":{"line":1,"column":366}},{"source":"stripe.js","name":"method","original":{"line":11,"column":3},"generated":{"line":1,"column":367}},{"source":"stripe.js","original":{"line":11,"column":11},"generated":{"line":1,"column":374}},{"source":"stripe.js","name":"url","original":{"line":12,"column":3},"generated":{"line":1,"column":380}},{"source":"stripe.js","name":"tourId","original":{"line":12,"column":45},"generated":{"line":1,"column":421}},{"source":"stripe.js","name":"stripe","original":{"line":14,"column":14},"generated":{"line":1,"column":433}},{"source":"stripe.js","name":"redirectToCheckout","original":{"line":14,"column":21},"generated":{"line":1,"column":435}},{"source":"stripe.js","original":{"line":14,"column":40},"generated":{"line":1,"column":454}},{"source":"stripe.js","name":"sessionId","original":{"line":15,"column":12},"generated":{"line":1,"column":455}},{"source":"stripe.js","name":"session","original":{"line":15,"column":23},"generated":{"line":1,"column":465}},{"source":"stripe.js","name":"data","original":{"line":15,"column":31},"generated":{"line":1,"column":467}},{"source":"stripe.js","name":"session","original":{"line":15,"column":36},"generated":{"line":1,"column":472}},{"source":"stripe.js","name":"id","original":{"line":15,"column":44},"generated":{"line":1,"column":480}},{"source":"stripe.js","original":{"line":17,"column":6},"generated":{"line":1,"column":485}},{"source":"stripe.js","name":"error","original":{"line":17,"column":13},"generated":{"line":1,"column":491}},{"source":"stripe.js","original":{"line":18,"column":18},"generated":{"line":1,"column":495}},{"source":"stripe.js","original":{"line":18,"column":18},"generated":{"line":1,"column":497}},{"source":"stripe.js","original":{"line":18,"column":18},"generated":{"line":1,"column":499}},{"source":"stripe.js","original":{"line":18,"column":18},"generated":{"line":1,"column":510}},{"source":"stripe.js","name":"error","original":{"line":18,"column":27},"generated":{"line":1,"column":518}},{"source":"stripe.js","name":"response","original":{"line":18,"column":33},"generated":{"line":1,"column":520}},{"source":"stripe.js","name":"data","original":{"line":18,"column":42},"generated":{"line":1,"column":529}},{"source":"stripe.js","name":"message","original":{"line":18,"column":47},"generated":{"line":1,"column":534}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":545}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":553}},{"source":"stripe.js","original":{"line":6,"column":7},"generated":{"line":1,"column":562}}],"sources":{"stripe.js":"/** @format */\r\n/*eslint-disable*/\r\nimport axios from 'axios';\r\nimport { showAlert } from './alerts';\r\n\r\nexport const bookTour = async (tourId) => {\r\n    // get checkout session from API\r\n    const stripe = Stripe('pk_test_51Jcx3mI20R6TlRgOtSizmRe5rWEEmFO56L1C4DBoC2r99xruz5vKoHpZPQS4H0FbbUy7xNsDw4GK3WnKGgPymSn600ocF1wbte');\r\n    try {\r\n\t\tconst session = await axios({\r\n\t\t\tmethod: 'GET',\r\n\t\t\turl: `/api/v1/bookings/checkout-session/${tourId}`,\r\n        });\r\n        await stripe.redirectToCheckout({\r\n            sessionId: session.data.session.id\r\n        })\r\n    } catch (error) {\r\n        showAlert('error', error.response.data.message);\r\n    }\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"2b8a98573c8735e075addb1dd3f13e32","cacheData":{"env":{}}}