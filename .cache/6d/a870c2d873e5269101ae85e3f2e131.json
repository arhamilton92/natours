{"id":"Focm","dependencies":[{"name":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\package.json","includedInParent":true,"mtime":1632597508422},{"name":"core-js/modules/web.timers.js","parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\node_modules\\core-js\\modules\\web.timers.js"},{"name":"core-js/modules/web.immediate.js","parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\node_modules\\core-js\\modules\\web.immediate.js"},{"name":"core-js/modules/web.dom.iterable.js","parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\node_modules\\core-js\\modules\\web.dom.iterable.js"},{"name":"./mapbox.js","loc":{"line":4,"column":27},"parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\mapbox.js"},{"name":"./login.js","loc":{"line":5,"column":30},"parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\login.js"},{"name":"./updateSettings.js","loc":{"line":6,"column":31},"parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\updateSettings.js"},{"name":"./stripe.js","loc":{"line":7,"column":25},"parent":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\index.js","resolved":"C:\\Users\\Andrea\\projects\\courses\\complete-node-bootcamp\\4-natours\\starter\\public\\js\\stripe.js"}],"generated":{"js":"\"use strict\";require(\"core-js/modules/web.timers.js\"),require(\"core-js/modules/web.immediate.js\"),require(\"core-js/modules/web.dom.iterable.js\");var e=require(\"./mapbox.js\"),t=require(\"./login.js\"),n=require(\"./updateSettings.js\"),o=require(\"./stripe.js\");const r=document.getElementById(\"map\"),s=document.querySelector(\".form--login\"),d=document.querySelector(\".nav__el--logout\"),a=document.querySelector(\".form-user-data\"),u=document.querySelector(\".form-user-settings\"),m=document.getElementById(\"book-tour\");if(r){const t=JSON.parse(r.dataset.locations);(0,e.displayMap)(t)}s&&s.addEventListener(\"submit\",e=>{const n=document.getElementById(\"email\").value,o=document.getElementById(\"password\").value;e.preventDefault(),(0,t.login)(n,o)}),d&&d.addEventListener(\"click\",()=>{(0,t.logout)()}),a&&a.addEventListener(\"submit\",e=>{e.preventDefault();const t=new FormData;t.append(\"name\",document.getElementById(\"name\").value),t.append(\"email\",document.getElementById(\"email\").value),t.append(\"photo\",document.getElementById(\"photo\").files[0]),(0,n.updateSettings)(t,\"data\")}),u&&u.addEventListener(\"submit\",async e=>{e.preventDefault();const t=document.getElementById(\"password-current\").value,o=document.getElementById(\"password-confirm\").value,r=document.getElementById(\"password\").value;document.querySelector(\".btn--save\").innerHTML=\"Updating...\",await(0,n.updateSettings)({checkPassword:t,passwordConfirm:o,newPassword:r},\"password\"),document.getElementById(\"password-current\").value=\"\",document.getElementById(\"password-confirm\").value=\"\",document.getElementById(\"password\").value=\"\",document.querySelector(\".btn--save\").innerHTML=\"Save password\"}),m&&m.addEventListener(\"click\",e=>{e.target.textContent=\"Processing...\";const{tourId:t}=e.target.dataset;(0,o.bookTour)(t)});"},"sourceMaps":{"js":{"mappings":[{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":0}},{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":13}},{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":21}},{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":54}},{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":62}},{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":98}},{"source":"index.js","original":{"line":67,"column":1},"generated":{"line":1,"column":106}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":145}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":149}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":151}},{"source":"index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":159}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":174}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":176}},{"source":"index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":184}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":198}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":200}},{"source":"index.js","original":{"line":6,"column":0},"generated":{"line":1,"column":208}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":231}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":233}},{"source":"index.js","original":{"line":7,"column":0},"generated":{"line":1,"column":241}},{"source":"index.js","original":{"line":10,"column":0},"generated":{"line":1,"column":256}},{"source":"index.js","name":"mapBox","original":{"line":10,"column":6},"generated":{"line":1,"column":262}},{"source":"index.js","name":"document","original":{"line":10,"column":15},"generated":{"line":1,"column":264}},{"source":"index.js","name":"getElementById","original":{"line":10,"column":24},"generated":{"line":1,"column":273}},{"source":"index.js","original":{"line":10,"column":39},"generated":{"line":1,"column":288}},{"source":"index.js","name":"loginForm","original":{"line":11,"column":6},"generated":{"line":1,"column":295}},{"source":"index.js","name":"document","original":{"line":11,"column":18},"generated":{"line":1,"column":297}},{"source":"index.js","name":"querySelector","original":{"line":11,"column":27},"generated":{"line":1,"column":306}},{"source":"index.js","original":{"line":11,"column":41},"generated":{"line":1,"column":320}},{"source":"index.js","name":"logOutBtn","original":{"line":12,"column":6},"generated":{"line":1,"column":336}},{"source":"index.js","name":"document","original":{"line":12,"column":18},"generated":{"line":1,"column":338}},{"source":"index.js","name":"querySelector","original":{"line":12,"column":27},"generated":{"line":1,"column":347}},{"source":"index.js","original":{"line":12,"column":41},"generated":{"line":1,"column":361}},{"source":"index.js","name":"userDataForm","original":{"line":13,"column":6},"generated":{"line":1,"column":381}},{"source":"index.js","name":"document","original":{"line":13,"column":21},"generated":{"line":1,"column":383}},{"source":"index.js","name":"querySelector","original":{"line":13,"column":30},"generated":{"line":1,"column":392}},{"source":"index.js","original":{"line":13,"column":44},"generated":{"line":1,"column":406}},{"source":"index.js","name":"userPasswordForm","original":{"line":14,"column":6},"generated":{"line":1,"column":425}},{"source":"index.js","name":"document","original":{"line":14,"column":25},"generated":{"line":1,"column":427}},{"source":"index.js","name":"querySelector","original":{"line":14,"column":34},"generated":{"line":1,"column":436}},{"source":"index.js","original":{"line":14,"column":48},"generated":{"line":1,"column":450}},{"source":"index.js","name":"bookBtn","original":{"line":15,"column":6},"generated":{"line":1,"column":473}},{"source":"index.js","name":"document","original":{"line":15,"column":16},"generated":{"line":1,"column":475}},{"source":"index.js","name":"getElementById","original":{"line":15,"column":25},"generated":{"line":1,"column":484}},{"source":"index.js","original":{"line":15,"column":40},"generated":{"line":1,"column":499}},{"source":"index.js","original":{"line":18,"column":0},"generated":{"line":1,"column":512}},{"source":"index.js","name":"mapBox","original":{"line":18,"column":4},"generated":{"line":1,"column":515}},{"source":"index.js","original":{"line":18,"column":12},"generated":{"line":1,"column":517}},{"source":"index.js","name":"locations","original":{"line":19,"column":7},"generated":{"line":1,"column":518}},{"source":"index.js","name":"locations","original":{"line":19,"column":7},"generated":{"line":1,"column":524}},{"source":"index.js","name":"JSON","original":{"line":19,"column":19},"generated":{"line":1,"column":526}},{"source":"index.js","name":"parse","original":{"line":19,"column":24},"generated":{"line":1,"column":531}},{"source":"index.js","name":"mapBox","original":{"line":19,"column":30},"generated":{"line":1,"column":537}},{"source":"index.js","name":"dataset","original":{"line":19,"column":37},"generated":{"line":1,"column":539}},{"source":"index.js","name":"locations","original":{"line":19,"column":45},"generated":{"line":1,"column":547}},{"source":"index.js","name":"locations","original":{"line":20,"column":12},"generated":{"line":1,"column":559}},{"source":"index.js","name":"locations","original":{"line":20,"column":12},"generated":{"line":1,"column":561}},{"source":"index.js","name":"locations","original":{"line":20,"column":12},"generated":{"line":1,"column":563}},{"source":"index.js","name":"locations","original":{"line":20,"column":12},"generated":{"line":1,"column":575}},{"source":"index.js","name":"loginForm","original":{"line":22,"column":4},"generated":{"line":1,"column":578}},{"source":"index.js","name":"loginForm","original":{"line":23,"column":1},"generated":{"line":1,"column":581}},{"source":"index.js","name":"addEventListener","original":{"line":23,"column":11},"generated":{"line":1,"column":583}},{"source":"index.js","original":{"line":23,"column":28},"generated":{"line":1,"column":600}},{"source":"index.js","name":"e","original":{"line":23,"column":39},"generated":{"line":1,"column":609}},{"source":"index.js","name":"email","original":{"line":24,"column":8},"generated":{"line":1,"column":613}},{"source":"index.js","name":"email","original":{"line":24,"column":8},"generated":{"line":1,"column":619}},{"source":"index.js","name":"document","original":{"line":24,"column":16},"generated":{"line":1,"column":621}},{"source":"index.js","name":"getElementById","original":{"line":24,"column":25},"generated":{"line":1,"column":630}},{"source":"index.js","original":{"line":24,"column":40},"generated":{"line":1,"column":645}},{"source":"index.js","name":"value","original":{"line":24,"column":49},"generated":{"line":1,"column":654}},{"source":"index.js","name":"password","original":{"line":25,"column":8},"generated":{"line":1,"column":660}},{"source":"index.js","name":"document","original":{"line":25,"column":19},"generated":{"line":1,"column":662}},{"source":"index.js","name":"getElementById","original":{"line":25,"column":28},"generated":{"line":1,"column":671}},{"source":"index.js","original":{"line":25,"column":43},"generated":{"line":1,"column":686}},{"source":"index.js","name":"value","original":{"line":25,"column":55},"generated":{"line":1,"column":698}},{"source":"index.js","name":"e","original":{"line":26,"column":2},"generated":{"line":1,"column":704}},{"source":"index.js","name":"preventDefault","original":{"line":26,"column":4},"generated":{"line":1,"column":706}},{"source":"index.js","name":"email","original":{"line":27,"column":8},"generated":{"line":1,"column":724}},{"source":"index.js","name":"email","original":{"line":27,"column":8},"generated":{"line":1,"column":726}},{"source":"index.js","name":"email","original":{"line":27,"column":8},"generated":{"line":1,"column":728}},{"source":"index.js","name":"email","original":{"line":27,"column":8},"generated":{"line":1,"column":735}},{"source":"index.js","name":"password","original":{"line":27,"column":15},"generated":{"line":1,"column":737}},{"source":"index.js","name":"logOutBtn","original":{"line":30,"column":4},"generated":{"line":1,"column":742}},{"source":"index.js","name":"logOutBtn","original":{"line":31,"column":1},"generated":{"line":1,"column":745}},{"source":"index.js","name":"addEventListener","original":{"line":31,"column":11},"generated":{"line":1,"column":747}},{"source":"index.js","original":{"line":31,"column":28},"generated":{"line":1,"column":764}},{"source":"index.js","original":{"line":31,"column":37},"generated":{"line":1,"column":772}},{"source":"index.js","original":{"line":32,"column":2},"generated":{"line":1,"column":778}},{"source":"index.js","original":{"line":32,"column":2},"generated":{"line":1,"column":780}},{"source":"index.js","original":{"line":32,"column":2},"generated":{"line":1,"column":782}},{"source":"index.js","name":"userDataForm","original":{"line":34,"column":4},"generated":{"line":1,"column":794}},{"source":"index.js","name":"userDataForm","original":{"line":35,"column":1},"generated":{"line":1,"column":797}},{"source":"index.js","name":"addEventListener","original":{"line":35,"column":14},"generated":{"line":1,"column":799}},{"source":"index.js","original":{"line":35,"column":31},"generated":{"line":1,"column":816}},{"source":"index.js","name":"e","original":{"line":35,"column":42},"generated":{"line":1,"column":825}},{"source":"index.js","name":"e","original":{"line":36,"column":2},"generated":{"line":1,"column":829}},{"source":"index.js","name":"preventDefault","original":{"line":36,"column":4},"generated":{"line":1,"column":831}},{"source":"index.js","name":"form","original":{"line":37,"column":8},"generated":{"line":1,"column":848}},{"source":"index.js","name":"form","original":{"line":37,"column":8},"generated":{"line":1,"column":854}},{"source":"index.js","original":{"line":37,"column":15},"generated":{"line":1,"column":856}},{"source":"index.js","name":"FormData","original":{"line":37,"column":19},"generated":{"line":1,"column":860}},{"source":"index.js","name":"form","original":{"line":38,"column":2},"generated":{"line":1,"column":869}},{"source":"index.js","name":"append","original":{"line":38,"column":7},"generated":{"line":1,"column":871}},{"source":"index.js","original":{"line":38,"column":14},"generated":{"line":1,"column":878}},{"source":"index.js","name":"document","original":{"line":38,"column":22},"generated":{"line":1,"column":885}},{"source":"index.js","name":"getElementById","original":{"line":38,"column":31},"generated":{"line":1,"column":894}},{"source":"index.js","original":{"line":38,"column":46},"generated":{"line":1,"column":909}},{"source":"index.js","name":"value","original":{"line":38,"column":54},"generated":{"line":1,"column":917}},{"source":"index.js","name":"form","original":{"line":39,"column":2},"generated":{"line":1,"column":924}},{"source":"index.js","name":"append","original":{"line":39,"column":7},"generated":{"line":1,"column":926}},{"source":"index.js","original":{"line":39,"column":14},"generated":{"line":1,"column":933}},{"source":"index.js","name":"document","original":{"line":39,"column":23},"generated":{"line":1,"column":941}},{"source":"index.js","name":"getElementById","original":{"line":39,"column":32},"generated":{"line":1,"column":950}},{"source":"index.js","original":{"line":39,"column":47},"generated":{"line":1,"column":965}},{"source":"index.js","name":"value","original":{"line":39,"column":56},"generated":{"line":1,"column":974}},{"source":"index.js","name":"form","original":{"line":40,"column":2},"generated":{"line":1,"column":981}},{"source":"index.js","name":"append","original":{"line":40,"column":7},"generated":{"line":1,"column":983}},{"source":"index.js","original":{"line":40,"column":14},"generated":{"line":1,"column":990}},{"source":"index.js","name":"document","original":{"line":40,"column":23},"generated":{"line":1,"column":998}},{"source":"index.js","name":"getElementById","original":{"line":40,"column":32},"generated":{"line":1,"column":1007}},{"source":"index.js","original":{"line":40,"column":47},"generated":{"line":1,"column":1022}},{"source":"index.js","name":"files","original":{"line":40,"column":56},"generated":{"line":1,"column":1031}},{"source":"index.js","original":{"line":40,"column":62},"generated":{"line":1,"column":1037}},{"source":"index.js","name":"form","original":{"line":41,"column":17},"generated":{"line":1,"column":1042}},{"source":"index.js","name":"form","original":{"line":41,"column":17},"generated":{"line":1,"column":1044}},{"source":"index.js","name":"form","original":{"line":41,"column":17},"generated":{"line":1,"column":1046}},{"source":"index.js","name":"form","original":{"line":41,"column":17},"generated":{"line":1,"column":1062}},{"source":"index.js","original":{"line":41,"column":23},"generated":{"line":1,"column":1064}},{"source":"index.js","name":"userPasswordForm","original":{"line":44,"column":4},"generated":{"line":1,"column":1074}},{"source":"index.js","name":"userPasswordForm","original":{"line":45,"column":1},"generated":{"line":1,"column":1077}},{"source":"index.js","name":"addEventListener","original":{"line":45,"column":18},"generated":{"line":1,"column":1079}},{"source":"index.js","original":{"line":45,"column":35},"generated":{"line":1,"column":1096}},{"source":"index.js","original":{"line":45,"column":45},"generated":{"line":1,"column":1105}},{"source":"index.js","original":{"line":45,"column":45},"generated":{"line":1,"column":1111}},{"source":"index.js","name":"e","original":{"line":46,"column":2},"generated":{"line":1,"column":1115}},{"source":"index.js","name":"preventDefault","original":{"line":46,"column":4},"generated":{"line":1,"column":1117}},{"source":"index.js","name":"checkPassword","original":{"line":47,"column":8},"generated":{"line":1,"column":1134}},{"source":"index.js","name":"checkPassword","original":{"line":47,"column":8},"generated":{"line":1,"column":1140}},{"source":"index.js","name":"document","original":{"line":47,"column":24},"generated":{"line":1,"column":1142}},{"source":"index.js","name":"getElementById","original":{"line":47,"column":33},"generated":{"line":1,"column":1151}},{"source":"index.js","original":{"line":47,"column":48},"generated":{"line":1,"column":1166}},{"source":"index.js","name":"value","original":{"line":47,"column":68},"generated":{"line":1,"column":1186}},{"source":"index.js","name":"passwordConfirm","original":{"line":48,"column":8},"generated":{"line":1,"column":1192}},{"source":"index.js","name":"document","original":{"line":48,"column":26},"generated":{"line":1,"column":1194}},{"source":"index.js","name":"getElementById","original":{"line":48,"column":35},"generated":{"line":1,"column":1203}},{"source":"index.js","original":{"line":48,"column":50},"generated":{"line":1,"column":1218}},{"source":"index.js","name":"value","original":{"line":48,"column":70},"generated":{"line":1,"column":1238}},{"source":"index.js","name":"newPassword","original":{"line":49,"column":8},"generated":{"line":1,"column":1244}},{"source":"index.js","name":"document","original":{"line":49,"column":22},"generated":{"line":1,"column":1246}},{"source":"index.js","name":"getElementById","original":{"line":49,"column":31},"generated":{"line":1,"column":1255}},{"source":"index.js","original":{"line":49,"column":46},"generated":{"line":1,"column":1270}},{"source":"index.js","name":"value","original":{"line":49,"column":58},"generated":{"line":1,"column":1282}},{"source":"index.js","name":"document","original":{"line":50,"column":2},"generated":{"line":1,"column":1288}},{"source":"index.js","name":"querySelector","original":{"line":50,"column":11},"generated":{"line":1,"column":1297}},{"source":"index.js","original":{"line":50,"column":25},"generated":{"line":1,"column":1311}},{"source":"index.js","name":"innerHTML","original":{"line":50,"column":39},"generated":{"line":1,"column":1325}},{"source":"index.js","original":{"line":50,"column":51},"generated":{"line":1,"column":1335}},{"source":"index.js","original":{"line":51,"column":8},"generated":{"line":1,"column":1355}},{"source":"index.js","original":{"line":52,"column":3},"generated":{"line":1,"column":1357}},{"source":"index.js","original":{"line":52,"column":3},"generated":{"line":1,"column":1359}},{"source":"index.js","original":{"line":52,"column":3},"generated":{"line":1,"column":1375}},{"source":"index.js","name":"checkPassword","original":{"line":52,"column":5},"generated":{"line":1,"column":1376}},{"source":"index.js","name":"checkPassword","original":{"line":52,"column":5},"generated":{"line":1,"column":1390}},{"source":"index.js","name":"passwordConfirm","original":{"line":52,"column":20},"generated":{"line":1,"column":1392}},{"source":"index.js","name":"passwordConfirm","original":{"line":52,"column":20},"generated":{"line":1,"column":1408}},{"source":"index.js","name":"newPassword","original":{"line":52,"column":37},"generated":{"line":1,"column":1410}},{"source":"index.js","name":"newPassword","original":{"line":52,"column":37},"generated":{"line":1,"column":1422}},{"source":"index.js","original":{"line":53,"column":3},"generated":{"line":1,"column":1425}},{"source":"index.js","name":"document","original":{"line":55,"column":2},"generated":{"line":1,"column":1437}},{"source":"index.js","name":"getElementById","original":{"line":55,"column":11},"generated":{"line":1,"column":1446}},{"source":"index.js","original":{"line":55,"column":26},"generated":{"line":1,"column":1461}},{"source":"index.js","name":"value","original":{"line":55,"column":46},"generated":{"line":1,"column":1481}},{"source":"index.js","original":{"line":55,"column":54},"generated":{"line":1,"column":1487}},{"source":"index.js","name":"document","original":{"line":56,"column":2},"generated":{"line":1,"column":1490}},{"source":"index.js","name":"getElementById","original":{"line":56,"column":11},"generated":{"line":1,"column":1499}},{"source":"index.js","original":{"line":56,"column":26},"generated":{"line":1,"column":1514}},{"source":"index.js","name":"value","original":{"line":56,"column":46},"generated":{"line":1,"column":1534}},{"source":"index.js","original":{"line":56,"column":54},"generated":{"line":1,"column":1540}},{"source":"index.js","name":"document","original":{"line":57,"column":2},"generated":{"line":1,"column":1543}},{"source":"index.js","name":"getElementById","original":{"line":57,"column":11},"generated":{"line":1,"column":1552}},{"source":"index.js","original":{"line":57,"column":26},"generated":{"line":1,"column":1567}},{"source":"index.js","name":"value","original":{"line":57,"column":38},"generated":{"line":1,"column":1579}},{"source":"index.js","original":{"line":57,"column":46},"generated":{"line":1,"column":1585}},{"source":"index.js","name":"document","original":{"line":58,"column":2},"generated":{"line":1,"column":1588}},{"source":"index.js","name":"querySelector","original":{"line":58,"column":11},"generated":{"line":1,"column":1597}},{"source":"index.js","original":{"line":58,"column":25},"generated":{"line":1,"column":1611}},{"source":"index.js","name":"innerHTML","original":{"line":58,"column":39},"generated":{"line":1,"column":1625}},{"source":"index.js","original":{"line":58,"column":51},"generated":{"line":1,"column":1635}},{"source":"index.js","name":"bookBtn","original":{"line":61,"column":4},"generated":{"line":1,"column":1653}},{"source":"index.js","name":"bookBtn","original":{"line":62,"column":1},"generated":{"line":1,"column":1656}},{"source":"index.js","name":"addEventListener","original":{"line":62,"column":9},"generated":{"line":1,"column":1658}},{"source":"index.js","original":{"line":62,"column":26},"generated":{"line":1,"column":1675}},{"source":"index.js","name":"e","original":{"line":62,"column":36},"generated":{"line":1,"column":1683}},{"source":"index.js","name":"e","original":{"line":63,"column":2},"generated":{"line":1,"column":1687}},{"source":"index.js","name":"target","original":{"line":63,"column":4},"generated":{"line":1,"column":1689}},{"source":"index.js","name":"textContent","original":{"line":63,"column":11},"generated":{"line":1,"column":1696}},{"source":"index.js","original":{"line":63,"column":25},"generated":{"line":1,"column":1708}},{"source":"index.js","original":{"line":64,"column":8},"generated":{"line":1,"column":1724}},{"source":"index.js","original":{"line":64,"column":8},"generated":{"line":1,"column":1730}},{"source":"index.js","name":"tourId","original":{"line":64,"column":10},"generated":{"line":1,"column":1737}},{"source":"index.js","name":"e","original":{"line":64,"column":21},"generated":{"line":1,"column":1740}},{"source":"index.js","name":"target","original":{"line":64,"column":23},"generated":{"line":1,"column":1742}},{"source":"index.js","name":"dataset","original":{"line":64,"column":30},"generated":{"line":1,"column":1749}},{"source":"index.js","name":"tourId","original":{"line":65,"column":11},"generated":{"line":1,"column":1758}},{"source":"index.js","name":"tourId","original":{"line":65,"column":11},"generated":{"line":1,"column":1760}},{"source":"index.js","name":"tourId","original":{"line":65,"column":11},"generated":{"line":1,"column":1762}},{"source":"index.js","name":"tourId","original":{"line":65,"column":11},"generated":{"line":1,"column":1772}}],"sources":{"index.js":"/** @format */\r\n\r\nimport '@babel/polyfill';\r\nimport { displayMap } from './mapbox.js';\r\nimport { login, logout } from './login.js';\r\nimport { updateSettings } from './updateSettings.js';\r\nimport { bookTour } from './stripe.js';\r\n\r\n// DOM ELEMENTS\r\nconst mapBox = document.getElementById('map');\r\nconst loginForm = document.querySelector('.form--login');\r\nconst logOutBtn = document.querySelector('.nav__el--logout');\r\nconst userDataForm = document.querySelector('.form-user-data');\r\nconst userPasswordForm = document.querySelector('.form-user-settings');\r\nconst bookBtn = document.getElementById('book-tour');\r\n\r\n// DELEGATION\r\nif (mapBox) {\r\n\tconst locations = JSON.parse(mapBox.dataset.locations);\r\n\tdisplayMap(locations);\r\n}\r\nif (loginForm) {\r\n\tloginForm.addEventListener('submit', (e) => {\r\n\t\tconst email = document.getElementById('email').value;\r\n\t\tconst password = document.getElementById('password').value;\r\n\t\te.preventDefault();\r\n\t\tlogin(email, password);\r\n\t});\r\n}\r\nif (logOutBtn)\r\n\tlogOutBtn.addEventListener('click', () => {\r\n\t\tlogout();\r\n\t});\r\nif (userDataForm) {\r\n\tuserDataForm.addEventListener('submit', (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst form = new FormData();\r\n\t\tform.append('name', document.getElementById('name').value);\r\n\t\tform.append('email', document.getElementById('email').value);\r\n\t\tform.append('photo', document.getElementById('photo').files[0]);\r\n\t\tupdateSettings(form, 'data');\r\n\t});\r\n}\r\nif (userPasswordForm) {\r\n\tuserPasswordForm.addEventListener('submit', async (e) => {\r\n\t\te.preventDefault();\r\n\t\tconst checkPassword = document.getElementById('password-current').value;\r\n\t\tconst passwordConfirm = document.getElementById('password-confirm').value;\r\n\t\tconst newPassword = document.getElementById('password').value;\r\n\t\tdocument.querySelector('.btn--save').innerHTML = 'Updating...';\r\n\t\tawait updateSettings(\r\n\t\t\t{ checkPassword, passwordConfirm, newPassword },\r\n\t\t\t'password'\r\n\t\t);\r\n\t\tdocument.getElementById('password-current').value = '';\r\n\t\tdocument.getElementById('password-confirm').value = '';\r\n\t\tdocument.getElementById('password').value = '';\r\n\t\tdocument.querySelector('.btn--save').innerHTML = 'Save password';\r\n\t});\r\n}\r\nif (bookBtn) {\r\n\tbookBtn.addEventListener('click', (e) => {\r\n\t\te.target.textContent = 'Processing...';\r\n\t\tconst { tourId } = e.target.dataset;\r\n\t\tbookTour(tourId);\r\n\t});\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"0337ccb0b54ef655e7fc6c162fdfd4b9","cacheData":{"env":{}}}